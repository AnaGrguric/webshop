(this.webpackJsonpwebshop=this.webpackJsonpwebshop||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(16),s=c.n(i),a=(c(23),c(4)),r=c(9),l=(c(24),c(0));var j=function(e){var t=Object(n.useState)(""),c=Object(a.a)(t,2),i=c[0],s=c[1],r=Object(n.useState)(""),j=Object(a.a)(r,2),o=j[0],d=j[1],b=Object(n.useState)(""),u=Object(a.a)(b,2),m=u[0],O=u[1];return Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={email:i,card:o,address:m};e.onSend(c),s(""),d(""),O("")},className:"form",children:[Object(l.jsx)("h3",{children:"Checkout"}),Object(l.jsx)("p",{children:"Please fill out info"}),Object(l.jsx)("label",{children:"E-mail:"}),Object(l.jsx)("input",{type:"email",value:i,onChange:function(e){s(e.target.value)},placeholder:"Enter your e-mail",required:!0}),Object(l.jsx)("label",{children:"Credit Card:"}),Object(l.jsx)("input",{type:"tel",value:o,onChange:function(e){d(e.target.value)},placeholder:"Enter your credit card number",maxLength:"16",required:!0}),Object(l.jsx)("label",{children:"Address:"}),Object(l.jsx)("input",{type:"text",value:m,onChange:function(e){O(e.target.value)},placeholder:"Enter your address",required:!0}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary btn-submit",children:"Confirm"})]})},o=c(8);var d=function(){return Object(l.jsxs)("div",{className:"popup",children:[Object(l.jsx)("h4",{children:"Order recived"}),Object(l.jsx)("p",{children:"Your order is recived we will inform you about shipping"}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){window.location.reload(!1),localStorage.clear()},children:Object(l.jsx)(o.b,{to:"/webshop",children:"Close"})})]})};var b=function(e){return Object(l.jsxs)("div",{class:"discount-display",children:[Object(l.jsxs)("p",{className:"discount",children:["Discount: ",Number(e.discount).toFixed(2)," EUR"]}),Object(l.jsxs)("h3",{className:"discount-price",children:["Discount price: ",(Number(e.totalPrice)-Number(e.discount)).toFixed(2)," EUR"]}),Object(l.jsxs)("p",{children:["Coupon: ",e.coupon]})]})};var u=function(e){var t=Object(n.useState)(!1),c=Object(a.a)(t,2),i=c[0],s=c[1],u=Object(r.b)(),m=u.items,O=u.cartTotal;return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{onSend:e.info}),Object(l.jsxs)("div",{className:"final-items",children:[Object(l.jsx)("h3",{children:"Order overview"}),Object(l.jsx)("p",{children:"Please check all information"}),Object(l.jsx)("table",{children:Object(l.jsx)("tbody",{children:m.map((function(e,t){return Object(l.jsxs)("tr",{className:"",children:[Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.quantity}),Object(l.jsxs)("td",{children:[e.price," EUR"]})]},t)}))})}),Object(l.jsxs)("p",{className:"right total",children:["Price: ",O.toFixed(2)," EUR"]}),Object(l.jsx)(b,{discount:e.couponData.discount,totalPrice:O}),e.userData.map((function(e,t){return Object(l.jsxs)("div",{className:"info",children:[Object(l.jsxs)("div",{children:["E-mail: ",e.email]}),Object(l.jsxs)("div",{children:["Credit Card: ",e.card]}),Object(l.jsxs)("div",{children:["Address: ",e.address]})]},t)})),Object(l.jsxs)("div",{className:"right",children:[Object(l.jsx)("button",{className:"btn btn-secondary",children:Object(l.jsx)(o.b,{to:"/webshop",className:"black",children:"Back to cart"})}),Object(l.jsx)("button",{className:"btn btn-primary btn-submit",onClick:function(){s(!0)},children:"Order"})]})]}),i&&Object(l.jsx)(d,{})]})},m=c(2);var O=function(e){var t=Object(r.b)().addItem;return Object(l.jsxs)("div",{className:"item-card",children:[Object(l.jsx)("img",{alt:"img",src:window.location+e.img,className:"item-img"}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"item-info",children:[Object(l.jsx)("h5",{children:e.name}),Object(l.jsxs)("p",{children:[e.price," EUR"]})]}),Object(l.jsx)("button",{onClick:function(){return t(e.item)},className:"btn btn-primary",children:"Add to bag"})]})]})},h=c.p+"static/media/delete.b20cec70.svg";var p=function(e){var t=Object(n.useState)(""),c=Object(a.a)(t,2),i=c[0],s=c[1],r=Object(n.useState)(""),j=Object(a.a)(r,2),o=j[0],d=j[1],u=Object(n.useState)(""),m=Object(a.a)(u,2),O=m[0],h=m[1],p=Object(n.useState)(!1),x=Object(a.a)(p,2),g=x[0],v=x[1];return console.log(i),Object(l.jsxs)("form",{className:"coupon",onSubmit:function(t){t.preventDefault(),"5%OFF"===i?(d(Number(.05*e.totalPrice)),h(Number(e.totalPrice-o))):"20EUROFF"===i?(d(20),h(e.totalPrice-20)):"20%OFF"===i?(d(.2*e.totalPrice),h(e.totalPrice-o),document.getElementById("coupon-input").style.display="none"):d(0);var c={code:i,discount:o,newPrice:O};e.apply(c),console.log(c),s("")},children:[Object(l.jsxs)("div",{id:"coupon-input",children:[Object(l.jsx)("input",{value:i,onChange:function(e){s(e.target.value)},placeholder:"Insert promo code"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return v(!0)},children:"Apply"})]}),g&&Object(l.jsx)(b,{discount:o,totalPrice:e.totalPrice,coupon:e.coupon})]})};var x=function(e){var t=Object(r.b)(),c=t.isEmpty,n=t.totalUniqueItems,i=t.totalItems,s=t.items,a=t.cartTotal,j=t.updateItemQuantity,d=t.removeItem,b=t.emptyCart,u=(t.updateItem,(0,t.getItem)(2));return console.log(u),c?Object(l.jsx)("p",{className:"row empty-state",children:"Your cart is empty"}):Object(l.jsxs)("div",{className:"cart",children:[Object(l.jsxs)("h5",{children:["Total items: ",i,", Unique Items: ",n]}),Object(l.jsxs)("table",{children:[Object(l.jsx)("tbody",{children:s.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("img",{alt:e.name,src:window.location+e.img,className:"img-small"})}),Object(l.jsx)("td",{children:Object(l.jsx)("h5",{children:e.name})}),Object(l.jsx)("td",{children:Object(l.jsxs)("p",{children:[e.price," EUR"]})}),Object(l.jsxs)("td",{className:"quantity",children:[Object(l.jsx)("button",{className:"btn-quantity",onClick:function(){return j(e.id,e.quantity-1)},children:Object(l.jsx)("p",{className:"minus",children:"-"})}),Object(l.jsx)("p",{children:e.quantity}),Object(l.jsx)("button",{className:"btn-quantity",onClick:function(){return j(e.id,e.quantity+1)},children:Object(l.jsx)("p",{className:"plus",children:"+"})})]}),Object(l.jsx)("td",{children:Object(l.jsxs)("p",{children:[e.itemTotal," EUR"]})}),Object(l.jsx)("td",{children:Object(l.jsx)("img",{src:h,onClick:function(){d(e.id)},alt:"delete icon"})})]},e.id)}))}),Object(l.jsxs)("tfoot",{children:[Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsxs)("h3",{className:"total-price",children:["Price: ",a.toFixed(2)," EUR"]})})}),Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsx)(p,{totalPrice:a.toFixed(2),apply:e.apply,discount:e.discount,coupon:e.coupon})})}),Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{className:"btn-position",children:[Object(l.jsx)("button",{className:"btn btn-secondary",onClick:function(){b()},children:"Clear cart"}),Object(l.jsx)("button",{className:"btn btn-primary",children:Object(l.jsx)(o.b,{to:"/checkout",children:"Check out"})})]})})]})]})]})};var g=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"row",children:e.data.map((function(e,t){return Object(l.jsx)(O,{name:e.name,price:e.price,img:e.img,item:e},t)}))}),Object(l.jsx)(x,{newPrice:e.newPrice,discount:e.discount,apply:e.apply,coupon:e.couponName})]})},v=[{name:"Smart hub",price:49.99,img:"/images/img1.jpg",inBag:0,id:1},{name:"Motion Sensor",price:24.99,img:"/images/img2.jpg",inBag:0,id:2},{name:"Wireless Camera",price:99.99,img:"/images/img3.jpg",inBag:0,id:3},{name:"Smoke Sensor",price:19.99,img:"/images/img4.jpg",inBag:0,id:4},{name:"Water Leak Sensor",price:14.99,img:"/images/img5.jpg",inBag:0,id:5}];var f=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)([]),j=Object(a.a)(s,2),o=j[0],d=j[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h2",{className:"header",children:"Webshop"}),Object(l.jsxs)(r.a,{children:[Object(l.jsx)(m.a,{exact:!0,path:"/webshop",children:Object(l.jsx)(g,{data:v,apply:function(e){d([e]),console.log("appjs"+o),console.log(e)},couponName:o.code})}),Object(l.jsx)(m.a,{exact:!0,path:"/checkout",children:Object(l.jsx)(u,{userData:c,info:function(e){i([e])},couponData:o})})]})]})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,32)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),s(e),a(e)}))};s.a.render(Object(l.jsx)(o.a,{children:Object(l.jsx)(f,{})}),document.getElementById("root")),y()}},[[31,1,2]]]);
//# sourceMappingURL=main.b36da441.chunk.js.map